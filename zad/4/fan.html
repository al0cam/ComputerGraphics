<!doctype html>
<html lang="hr">
	<head>
		<meta charset="UTF-8">
		<title>Elipsa</title>
		<script type="text/javascript" src="GKS.js"></script>
		<script type="text/javascript" src="MT2D.js"></script>
		<script type="text/javascript">
			let gks;
			let mt2d;
			let kut = 0;

			window.addEventListener('load', (event) => {

				let platno1 = document.getElementById("slika1");	
				if(!platno1) alert("Greška - nema platna!");
				
				gks = new GKS(platno1, -5,5,-5,5)
				mt2d = new MT2D()

				fan()

			});

			function fan()
			{
				gks.clear()

				gks.koristiBoju("red")
				mt2d.identitet()
				gks.trans(mt2d)
				elipsa(0.1,0.1)

				kut = kut%360 + 49
				mt2d.identitet()
				mt2d.rotirajOkoTocke(0,0,kut)
				mt2d.pomakni(2,0)
				gks.trans(mt2d)
				elipsa(2.5,0.5)

				mt2d.identitet()
				mt2d.rotirajOkoTocke(0,0,kut)
				mt2d.rotiraj(90)
				mt2d.pomakni(2,0)
				gks.trans(mt2d)
				elipsa(2.5,0.5)

				mt2d.identitet()
				mt2d.rotirajOkoTocke(0,0,kut)
				mt2d.rotiraj(180)
				mt2d.pomakni(2,0)
				gks.trans(mt2d)
				elipsa(2.5,0.5)

				mt2d.identitet()
				mt2d.rotirajOkoTocke(0,0,kut)
				mt2d.rotiraj(270)
				mt2d.pomakni(2,0)
				gks.trans(mt2d)
				elipsa(2.5,0.5)

				requestAnimationFrame(fan);
			}
			
			function elipsa(a,b)
			{
				gks.pocniPut()
				let x;	
				let y;
				for(let t = 0; t<=2*Math.PI;t+=0.01)
				{
					x = a*Math.cos(t)
					y = b*Math.sin(t)

					gks.linijaDo(x,y)
					// gks.koristiBoju('red')
				}
				gks.povuciLiniju()
			}

			function pravokutnik(a,b)
			{
				gks.pocniPut()
				// gks.postaviNa(0,0)
				gks.linijaDo(a,0)
				gks.linijaDo(a,b)
				gks.linijaDo(0,b)
				gks.linijaDo(0,0)
				gks.linijaDo(a,0)

				// gks.koristiBoju('red')
				gks.povuciLiniju()
			}
		</script>
	</head>

	<body>
		<h1>Parabola </h1>
		<div>
			<canvas id="slika1" width="600" height="500" style="border:5px solid black">
				Vaš preglednik ne podržava HTML5 canvas.
			</canvas>
		</div>
	</div>
	</body>
</html>